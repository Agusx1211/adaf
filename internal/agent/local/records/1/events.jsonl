{"timestamp":"2026-02-17T03:26:27.369701554Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T03:26:27.370134637Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T03:26:27.370816803Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON3343521864/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T03:26:27.370832428Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON3343521864/001"}
{"timestamp":"2026-02-17T03:26:27.37735517Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T03:26:27.377689336Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T03:26:27.377803169Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T03:26:27.378654293Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T03:26:27.378754043Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T03:26:27.378764585Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit2483724535/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T03:26:27.378772918Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit2483724535/001"}
{"timestamp":"2026-02-17T03:26:27.385014618Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T03:26:27.389325405Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T03:26:27.391384777Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T03:26:27.391454027Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T03:26:27.391468194Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv2005267543/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T03:26:27.39147636Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv2005267543/001"}
{"timestamp":"2026-02-17T03:26:27.397888852Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T03:26:27.397957644Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T03:26:27.400231974Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:26:27.400419349Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:26:27.400441224Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode2120095792/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:26:27.400448933Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode2120095792/001"}
{"timestamp":"2026-02-17T03:26:27.405934134Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:26:27.405966467Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T03:26:27.406610133Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:26:27.406770966Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:26:27.406816175Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride665657718/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:26:27.406825008Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride665657718/001"}
{"timestamp":"2026-02-17T03:26:27.408960005Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T03:26:27.409038547Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T03:26:27.409175588Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T03:26:27.409312713Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:26:27.409336213Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:26:27.409343921Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride665657718/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:26:27.409354213Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride665657718/001"}
{"timestamp":"2026-02-17T03:26:27.411412752Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T03:26:27.411417711Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T03:26:27.411494752Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T03:26:27.411932377Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:26:27.411970627Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:26:27.411980127Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID3696143985/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:26:27.411989293Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID3696143985/001"}
{"timestamp":"2026-02-17T03:26:27.415568289Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T03:26:27.614951291Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T03:26:28.356891951Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T03:26:28.365749315Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T03:26:28.365784982Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2268116519/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T03:26:28.365795773Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2268116519/001"}
{"timestamp":"2026-02-17T03:26:28.381600087Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T03:26:28.381668587Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T03:26:28.381680003Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T03:26:28.38751483Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T03:26:28.387559413Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T03:26:28.387567788Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit3196243222/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T03:26:28.387575204Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit3196243222/001"}
{"timestamp":"2026-02-17T03:26:28.394132238Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T03:26:28.394603487Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T03:26:28.399666356Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T03:26:28.399928522Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T03:26:28.399948022Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv4227967535/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T03:26:28.399961356Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv4227967535/001"}
{"timestamp":"2026-02-17T03:26:28.419475665Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T03:26:28.419551248Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T03:26:28.44785063Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T03:26:28.447895213Z","type":"meta","data":"command=/tmp/TestGenericRun1625586375/001/fake-generic "}
{"timestamp":"2026-02-17T03:26:28.447904963Z","type":"meta","data":"workdir=/tmp/TestGenericRun1625586375/001"}
{"timestamp":"2026-02-17T03:26:28.457256576Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T03:26:28.457972534Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T03:26:28.457999909Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit3559695179/001/fake-generic-fail "}
{"timestamp":"2026-02-17T03:26:28.458009117Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit3559695179/001"}
{"timestamp":"2026-02-17T03:26:28.46328711Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T03:26:28.463545527Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T03:26:28.463566235Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T03:26:28.46357311Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3460596332/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T03:26:28.463580277Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3460596332/001"}
{"timestamp":"2026-02-17T03:26:28.468304062Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T03:26:28.470757976Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T03:26:28.470793184Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T03:26:28.470801268Z","type":"meta","data":"command=/tmp/TestOpencodeRun1085380948/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T03:26:28.470807726Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun1085380948/001"}
{"timestamp":"2026-02-17T03:26:28.472823765Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T03:26:28.472848973Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T03:26:28.472859015Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T03:26:28.473046723Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T03:26:28.475857261Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T03:26:28.475870845Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit3125274541/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T03:26:28.475881928Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit3125274541/001"}
{"timestamp":"2026-02-17T03:26:28.476717844Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T03:26:28.476904052Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T03:26:28.476924593Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T03:26:28.476930843Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv3086835232/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T03:26:28.476936968Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv3086835232/001"}
{"timestamp":"2026-02-17T03:26:28.491349034Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T03:26:31.804734329Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T03:26:31.80504662Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T03:26:31.805092162Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv487410323/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T03:26:31.805099662Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv487410323/001"}
{"timestamp":"2026-02-17T03:26:31.822588723Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T03:26:31.824852887Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T03:26:31.828673674Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T03:26:31.828716132Z","type":"meta","data":"command=/tmp/TestVibeRunBasic505947932/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T03:26:31.828724591Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic505947932/001"}
{"timestamp":"2026-02-17T03:26:31.838680453Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T03:26:31.840851576Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T03:26:31.861027259Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T03:26:31.862471007Z","type":"meta","data":"command=/tmp/TestVibeRunBasic505947932/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T03:26:31.862495382Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic505947932/001"}
{"timestamp":"2026-02-17T03:26:31.889690307Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T03:34:45.538449374Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T03:34:45.538908165Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T03:34:45.53892454Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON2801808922/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T03:34:45.53894254Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON2801808922/001"}
{"timestamp":"2026-02-17T03:34:45.541523703Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T03:34:45.541588245Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T03:34:45.54160212Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T03:34:45.54181512Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T03:34:45.541837036Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T03:34:45.54184412Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit1948650410/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T03:34:45.541850953Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit1948650410/001"}
{"timestamp":"2026-02-17T03:34:45.548267945Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T03:34:45.554687854Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T03:34:45.555040895Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T03:34:45.55515302Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T03:34:45.555162478Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv509574059/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T03:34:45.555175687Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv509574059/001"}
{"timestamp":"2026-02-17T03:34:45.559703806Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T03:34:45.559858473Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T03:34:45.560432472Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:34:45.560470514Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:34:45.56047968Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode1218881916/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:34:45.560487055Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode1218881916/001"}
{"timestamp":"2026-02-17T03:34:45.561929387Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:34:45.561979303Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T03:34:45.562356053Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:34:45.562404386Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:34:45.562412845Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride3905825490/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:34:45.56242172Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride3905825490/001"}
{"timestamp":"2026-02-17T03:34:45.563636551Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T03:34:45.563663385Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T03:34:45.563725093Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T03:34:45.563923509Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:34:45.563988093Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:34:45.563996343Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride3905825490/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:34:45.564002801Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride3905825490/001"}
{"timestamp":"2026-02-17T03:34:45.565830507Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T03:34:45.565904257Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T03:34:45.565924715Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T03:34:45.566633673Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T03:34:45.566676756Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T03:34:45.566685214Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID687336135/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T03:34:45.566691756Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID687336135/001"}
{"timestamp":"2026-02-17T03:34:45.569185795Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T03:34:45.771375839Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T03:34:46.42581954Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T03:34:46.425865706Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T03:34:46.425874665Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2099240902/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T03:34:46.42588354Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2099240902/001"}
{"timestamp":"2026-02-17T03:34:46.428554578Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T03:34:46.428600036Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T03:34:46.42861137Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T03:34:46.431730324Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T03:34:46.431768908Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T03:34:46.431784699Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit3914070579/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T03:34:46.431796408Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit3914070579/001"}
{"timestamp":"2026-02-17T03:34:46.440908063Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T03:34:46.442549186Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T03:34:46.44493035Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T03:34:46.445015558Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T03:34:46.4450256Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv274481060/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T03:34:46.445035933Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv274481060/001"}
{"timestamp":"2026-02-17T03:34:46.450530593Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T03:34:46.454635505Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T03:34:46.454966629Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T03:34:46.454983879Z","type":"meta","data":"command=/tmp/TestGenericRun2358693089/001/fake-generic "}
{"timestamp":"2026-02-17T03:34:46.454992838Z","type":"meta","data":"workdir=/tmp/TestGenericRun2358693089/001"}
{"timestamp":"2026-02-17T03:34:46.457029168Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T03:34:46.458632875Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T03:34:46.458655041Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit2418912971/001/fake-generic-fail "}
{"timestamp":"2026-02-17T03:34:46.458663Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit2418912971/001"}
{"timestamp":"2026-02-17T03:34:46.461543705Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T03:34:46.461807621Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T03:34:46.461822704Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T03:34:46.461828704Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3600978174/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T03:34:46.461834912Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3600978174/001"}
{"timestamp":"2026-02-17T03:34:46.466948156Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T03:34:46.471724442Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T03:34:46.4718109Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T03:34:46.471824359Z","type":"meta","data":"command=/tmp/TestOpencodeRun1153605278/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T03:34:46.471834234Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun1153605278/001"}
{"timestamp":"2026-02-17T03:34:46.474013314Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T03:34:46.474128397Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T03:34:46.474140647Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T03:34:46.474413855Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T03:34:46.474476814Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T03:34:46.474485897Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit1160237828/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T03:34:46.474492814Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit1160237828/001"}
{"timestamp":"2026-02-17T03:34:46.478175893Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T03:34:46.478466559Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T03:34:46.478491184Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T03:34:46.478498184Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv775176469/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T03:34:46.478505892Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv775176469/001"}
{"timestamp":"2026-02-17T03:34:46.482570387Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T03:34:49.646377606Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T03:34:49.647177438Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T03:34:49.647194147Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv2446157465/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T03:34:49.64720598Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv2446157465/001"}
{"timestamp":"2026-02-17T03:34:49.651927891Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T03:34:49.661038296Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T03:34:49.661205421Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T03:34:49.661216379Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1327173886/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T03:34:49.661223379Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1327173886/001"}
{"timestamp":"2026-02-17T03:34:49.662622836Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T03:34:49.663199752Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T03:34:49.663320002Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T03:34:49.663329377Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1327173886/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T03:34:49.663335543Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1327173886/001"}
{"timestamp":"2026-02-17T03:34:49.664312876Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T04:04:39.995849813Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:04:39.99759727Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:04:39.998971893Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON1786354764/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:04:39.999000976Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON1786354764/001"}
{"timestamp":"2026-02-17T04:04:40.007842548Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T04:04:40.007905715Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T04:04:40.007935256Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T04:04:40.008776297Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T04:04:40.009041005Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:04:40.011274752Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit593541367/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:04:40.011307794Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit593541367/001"}
{"timestamp":"2026-02-17T04:04:40.017676161Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T04:04:40.027161815Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T04:04:40.028926313Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:04:40.028989355Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:04:40.028999188Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv808018399/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:04:40.029009646Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv808018399/001"}
{"timestamp":"2026-02-17T04:04:40.046684957Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T04:04:40.047250123Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T04:04:40.062744645Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:04:40.064262851Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:04:40.064308185Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode1200216506/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:04:40.064318726Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode1200216506/001"}
{"timestamp":"2026-02-17T04:04:40.071031176Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:04:40.0716428Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T04:04:40.071988133Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:04:40.07203205Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:04:40.072041341Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2200697617/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:04:40.072536757Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2200697617/001"}
{"timestamp":"2026-02-17T04:04:40.076512586Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T04:04:40.076930835Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T04:04:40.077831167Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T04:04:40.078879583Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:04:40.07955354Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:04:40.07959754Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2200697617/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:04:40.07961354Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2200697617/001"}
{"timestamp":"2026-02-17T04:04:40.082500203Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T04:04:40.082641744Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T04:04:40.082677828Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T04:04:40.083397327Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:04:40.083425702Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:04:40.083435118Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID3492742838/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:04:40.083441493Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID3492742838/001"}
{"timestamp":"2026-02-17T04:04:40.08646399Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T04:04:40.285981277Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T04:04:40.986001176Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:04:40.986229384Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:04:40.986248176Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2378642514/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:04:40.986256509Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2378642514/001"}
{"timestamp":"2026-02-17T04:04:41.00393532Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T04:04:41.004002153Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T04:04:41.004012737Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T04:04:41.007001733Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T04:04:41.007374524Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:04:41.007409191Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit4190250339/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:04:41.007419816Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit4190250339/001"}
{"timestamp":"2026-02-17T04:04:41.012405393Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T04:04:41.016368013Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T04:04:41.017520344Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T04:04:41.017812636Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:04:41.017837052Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv250183586/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:04:41.017848511Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv250183586/001"}
{"timestamp":"2026-02-17T04:04:41.02221763Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T04:04:41.02228988Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T04:04:41.022593671Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:04:41.02261713Z","type":"meta","data":"command=/tmp/TestGenericRun339829246/001/fake-generic "}
{"timestamp":"2026-02-17T04:04:41.022623838Z","type":"meta","data":"workdir=/tmp/TestGenericRun339829246/001"}
{"timestamp":"2026-02-17T04:04:41.028401747Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T04:04:41.030453078Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:04:41.03047887Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit2748064356/001/fake-generic-fail "}
{"timestamp":"2026-02-17T04:04:41.03048687Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit2748064356/001"}
{"timestamp":"2026-02-17T04:04:41.032504575Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T04:04:41.034925697Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:04:41.034947322Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:04:41.034954364Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3641082805/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T04:04:41.034966614Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3641082805/001"}
{"timestamp":"2026-02-17T04:04:41.043277353Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T04:04:41.050981302Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:04:41.051215218Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:04:41.05122526Z","type":"meta","data":"command=/tmp/TestOpencodeRun265921975/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T04:04:41.051233051Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun265921975/001"}
{"timestamp":"2026-02-17T04:04:41.052713133Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T04:04:41.052772966Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T04:04:41.052782758Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T04:04:41.05349459Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T04:04:41.053572715Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:04:41.053583548Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit1629140462/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T04:04:41.053591257Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit1629140462/001"}
{"timestamp":"2026-02-17T04:04:41.054748672Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T04:04:41.055738754Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:04:41.055771462Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:04:41.055779546Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv4036869300/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T04:04:41.055790129Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv4036869300/001"}
{"timestamp":"2026-02-17T04:04:41.063000536Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T04:04:44.210306483Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T04:04:44.212720355Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:04:44.212748772Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv2202326802/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T04:04:44.212761897Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv2202326802/001"}
{"timestamp":"2026-02-17T04:04:44.220012054Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T04:04:44.235506201Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T04:04:44.235675659Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:04:44.235687576Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1310884255/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T04:04:44.235694867Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1310884255/001"}
{"timestamp":"2026-02-17T04:04:44.238871738Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T04:04:44.239465154Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T04:04:44.239592112Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:04:44.239600654Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1310884255/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T04:04:44.239606404Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1310884255/001"}
{"timestamp":"2026-02-17T04:04:44.240831194Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T04:05:02.311429541Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:05:02.311516708Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:05:02.311530041Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON726423340/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:05:02.311539874Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON726423340/001"}
{"timestamp":"2026-02-17T04:05:02.31598891Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T04:05:02.316620826Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T04:05:02.31870824Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T04:05:02.319179656Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T04:05:02.319238115Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:05:02.31924724Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit4201081966/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:05:02.319254573Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit4201081966/001"}
{"timestamp":"2026-02-17T04:05:02.322417652Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T04:05:02.345865497Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T04:05:02.348633577Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:05:02.34868566Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:05:02.348695869Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv2532576125/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:05:02.348706369Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv2532576125/001"}
{"timestamp":"2026-02-17T04:05:02.360236521Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T04:05:02.360383687Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T04:05:02.361435894Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:05:02.361565436Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:05:02.361609061Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode3567757225/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:05:02.361619561Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode3567757225/001"}
{"timestamp":"2026-02-17T04:05:02.363696183Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:05:02.363751683Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T04:05:02.364427307Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:05:02.364493849Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:05:02.36450464Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride1564860053/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:05:02.364519849Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride1564860053/001"}
{"timestamp":"2026-02-17T04:05:02.365750805Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T04:05:02.36579568Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T04:05:02.365822347Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T04:05:02.366035763Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:05:02.366180055Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:05:02.366190763Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride1564860053/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:05:02.366197305Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride1564860053/001"}
{"timestamp":"2026-02-17T04:05:02.367822511Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T04:05:02.368141136Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T04:05:02.368252594Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T04:05:02.36858801Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:05:02.368621718Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:05:02.368631052Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID939601819/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:05:02.368638843Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID939601819/001"}
{"timestamp":"2026-02-17T04:05:02.370750132Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T04:05:02.570010003Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T04:05:03.194889124Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:05:03.194963666Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:05:03.194973582Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON3364526260/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:05:03.194979999Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON3364526260/001"}
{"timestamp":"2026-02-17T04:05:03.196094581Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T04:05:03.196166914Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T04:05:03.196184081Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T04:05:03.196691997Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T04:05:03.196758622Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:05:03.19677133Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit1876098874/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:05:03.196780663Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit1876098874/001"}
{"timestamp":"2026-02-17T04:05:03.197835162Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T04:05:03.197910245Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T04:05:03.199046577Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T04:05:03.199718368Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:05:03.199731659Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv608585357/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:05:03.199739659Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv608585357/001"}
{"timestamp":"2026-02-17T04:05:03.201593824Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T04:05:03.20167924Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T04:05:03.202817947Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:05:03.202849197Z","type":"meta","data":"command=/tmp/TestGenericRun661596179/001/fake-generic "}
{"timestamp":"2026-02-17T04:05:03.202857072Z","type":"meta","data":"workdir=/tmp/TestGenericRun661596179/001"}
{"timestamp":"2026-02-17T04:05:03.205652319Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T04:05:03.205893443Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:05:03.205906777Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit575632850/001/fake-generic-fail "}
{"timestamp":"2026-02-17T04:05:03.205913818Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit575632850/001"}
{"timestamp":"2026-02-17T04:05:03.20742515Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T04:05:03.207807941Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:05:03.207824607Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:05:03.207831024Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv2875003668/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T04:05:03.207837607Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv2875003668/001"}
{"timestamp":"2026-02-17T04:05:03.210866895Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T04:05:03.214797265Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:05:03.215540139Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:05:03.215603806Z","type":"meta","data":"command=/tmp/TestOpencodeRun1643429818/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T04:05:03.215616848Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun1643429818/001"}
{"timestamp":"2026-02-17T04:05:03.218158886Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T04:05:03.218236386Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T04:05:03.218258969Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T04:05:03.218455761Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T04:05:03.218516302Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:05:03.218523469Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit2968913410/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T04:05:03.218529552Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit2968913410/001"}
{"timestamp":"2026-02-17T04:05:03.219995134Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T04:05:03.220924507Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:05:03.221273507Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:05:03.22128359Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv3295725481/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T04:05:03.22129334Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv3295725481/001"}
{"timestamp":"2026-02-17T04:05:03.224003087Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T04:05:06.378393985Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T04:05:06.378537651Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:05:06.378547526Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv1302944160/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T04:05:06.37855611Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv1302944160/001"}
{"timestamp":"2026-02-17T04:05:06.380766399Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T04:05:06.382721188Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T04:05:06.382823188Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:05:06.382832438Z","type":"meta","data":"command=/tmp/TestVibeRunBasic3558644580/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T04:05:06.382839146Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic3558644580/001"}
{"timestamp":"2026-02-17T04:05:06.384523769Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T04:05:06.386202433Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T04:05:06.386359016Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:05:06.386370183Z","type":"meta","data":"command=/tmp/TestVibeRunBasic3558644580/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T04:05:06.386378058Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic3558644580/001"}
{"timestamp":"2026-02-17T04:05:06.388937096Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T04:20:02.376161972Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:20:02.37623668Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:20:02.376248889Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON654168924/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:20:02.376259555Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON654168924/001"}
{"timestamp":"2026-02-17T04:20:02.37848951Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T04:20:02.378576218Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T04:20:02.378597801Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T04:20:02.379319759Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T04:20:02.379396133Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:20:02.37940655Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit2524885230/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:20:02.379415967Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit2524885230/001"}
{"timestamp":"2026-02-17T04:20:02.381459172Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T04:20:02.384720874Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T04:20:02.386646538Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:20:02.386727704Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T04:20:02.386737454Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv4046215999/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T04:20:02.386746496Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv4046215999/001"}
{"timestamp":"2026-02-17T04:20:02.389309825Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T04:20:02.389495658Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T04:20:02.392308445Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:20:02.392404487Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:20:02.392424737Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode3822762515/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:20:02.392441445Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode3822762515/001"}
{"timestamp":"2026-02-17T04:20:02.395999397Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:20:02.396033022Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T04:20:02.397765061Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:20:02.397809728Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:20:02.397831478Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride3318603379/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:20:02.397841269Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride3318603379/001"}
{"timestamp":"2026-02-17T04:20:02.401008722Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T04:20:02.401369847Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T04:20:02.401350888Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T04:20:02.401889304Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:20:02.401942637Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:20:02.401950971Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride3318603379/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:20:02.401957221Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride3318603379/001"}
{"timestamp":"2026-02-17T04:20:02.404169259Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T04:20:02.405178465Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T04:20:02.405232882Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T04:20:02.407348587Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T04:20:02.407419337Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T04:20:02.407437212Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID2300655467/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T04:20:02.40744442Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID2300655467/001"}
{"timestamp":"2026-02-17T04:20:02.411604288Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T04:20:02.611886911Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T04:20:03.287442824Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:20:03.287541741Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:20:03.287551741Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2492661476/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:20:03.287561116Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2492661476/001"}
{"timestamp":"2026-02-17T04:20:03.291340943Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T04:20:03.291433901Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T04:20:03.291446526Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T04:20:03.291822108Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T04:20:03.294459771Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:20:03.294486812Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit4040097686/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:20:03.294498396Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit4040097686/001"}
{"timestamp":"2026-02-17T04:20:03.297857515Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T04:20:03.297935557Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T04:20:03.298405806Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T04:20:03.298443389Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T04:20:03.298452097Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv2150915364/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T04:20:03.298463264Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv2150915364/001"}
{"timestamp":"2026-02-17T04:20:03.312217574Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T04:20:03.312514241Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T04:20:03.313237823Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:20:03.313254448Z","type":"meta","data":"command=/tmp/TestGenericRun1503903922/001/fake-generic "}
{"timestamp":"2026-02-17T04:20:03.313260823Z","type":"meta","data":"workdir=/tmp/TestGenericRun1503903922/001"}
{"timestamp":"2026-02-17T04:20:03.315655485Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T04:20:03.316837817Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:20:03.316858983Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit1909326672/001/fake-generic-fail "}
{"timestamp":"2026-02-17T04:20:03.31686815Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit1909326672/001"}
{"timestamp":"2026-02-17T04:20:03.319332271Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T04:20:03.32013502Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:20:03.320156394Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T04:20:03.320162978Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv163136996/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T04:20:03.320168936Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv163136996/001"}
{"timestamp":"2026-02-17T04:20:03.323814097Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T04:20:03.328842838Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T04:20:03.328971546Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:20:03.328980213Z","type":"meta","data":"command=/tmp/TestOpencodeRun980520388/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T04:20:03.328988796Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun980520388/001"}
{"timestamp":"2026-02-17T04:20:03.332822582Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T04:20:03.33298254Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T04:20:03.333010748Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T04:20:03.333933496Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T04:20:03.33402008Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:20:03.33402833Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit803907461/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T04:20:03.33403583Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit803907461/001"}
{"timestamp":"2026-02-17T04:20:03.336816533Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T04:20:03.338401989Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T04:20:03.338472822Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T04:20:03.338480614Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv3962225510/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T04:20:03.338488989Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv3962225510/001"}
{"timestamp":"2026-02-17T04:20:03.34288769Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T04:20:06.494483426Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T04:20:06.496691006Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:20:06.496703381Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv4211528159/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T04:20:06.496710339Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv4211528159/001"}
{"timestamp":"2026-02-17T04:20:06.498510545Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T04:20:06.511648689Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T04:20:06.511792981Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:20:06.511803106Z","type":"meta","data":"command=/tmp/TestVibeRunBasic3965894433/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T04:20:06.511810481Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic3965894433/001"}
{"timestamp":"2026-02-17T04:20:06.515861391Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T04:20:06.516395015Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T04:20:06.516517348Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T04:20:06.516527223Z","type":"meta","data":"command=/tmp/TestVibeRunBasic3965894433/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T04:20:06.516533139Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic3965894433/001"}
{"timestamp":"2026-02-17T04:20:06.517606429Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:01:11.487646901Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:01:11.488757191Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:01:11.488803358Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON2558454215/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:01:11.488824024Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON2558454215/001"}
{"timestamp":"2026-02-17T07:01:11.491368105Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:01:11.491493771Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:01:11.491648771Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:01:11.495685308Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:01:11.496965598Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:01:11.497043389Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit1157971855/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:01:11.497094306Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit1157971855/001"}
{"timestamp":"2026-02-17T07:01:11.502377216Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:01:11.506379086Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:01:11.506727752Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:01:11.506757336Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:01:11.506766752Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv469362064/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:01:11.506777586Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv469362064/001"}
{"timestamp":"2026-02-17T07:01:11.514441368Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:01:11.514600909Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:01:11.515703533Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:01:11.515787783Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:01:11.515799824Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode3201666264/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:01:11.515809116Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode3201666264/001"}
{"timestamp":"2026-02-17T07:01:11.517970322Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:01:11.518252238Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:01:11.518599321Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:01:11.518737362Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:01:11.518747821Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2243956009/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:01:11.518759529Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2243956009/001"}
{"timestamp":"2026-02-17T07:01:11.520658652Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:01:11.520670777Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:01:11.520809943Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:01:11.521248943Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:01:11.521371067Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:01:11.521381317Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2243956009/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:01:11.521389609Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2243956009/001"}
{"timestamp":"2026-02-17T07:01:11.522830566Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:01:11.523005982Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:01:11.523786523Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:01:11.524701522Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:01:11.524860605Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:01:11.524881646Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID770506428/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:01:11.524893938Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID770506428/001"}
{"timestamp":"2026-02-17T07:01:11.527966268Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:01:11.726438439Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:01:12.464546485Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:01:12.464915109Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:01:12.464950484Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2706974260/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:01:12.464962359Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2706974260/001"}
{"timestamp":"2026-02-17T07:01:12.46947877Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:01:12.470806935Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:01:12.470840602Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:01:12.471279768Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:01:12.471844017Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:01:12.4720361Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit2600624/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:01:12.47224385Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit2600624/001"}
{"timestamp":"2026-02-17T07:01:12.478740884Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:01:12.479903216Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:01:12.480502965Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:01:12.480651923Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:01:12.480783965Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv4120759268/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:01:12.48080609Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv4120759268/001"}
{"timestamp":"2026-02-17T07:01:12.490422703Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:01:12.490712327Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:01:12.490949952Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:01:12.490968369Z","type":"meta","data":"command=/tmp/TestGenericRun3530775189/001/fake-generic "}
{"timestamp":"2026-02-17T07:01:12.49097541Z","type":"meta","data":"workdir=/tmp/TestGenericRun3530775189/001"}
{"timestamp":"2026-02-17T07:01:12.496914778Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:01:12.501268606Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:01:12.501342022Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit3361515655/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:01:12.501353272Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit3361515655/001"}
{"timestamp":"2026-02-17T07:01:12.503797103Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:01:12.504865226Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:01:12.505831059Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:01:12.5058501Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3955031598/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:01:12.505859434Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3955031598/001"}
{"timestamp":"2026-02-17T07:01:12.511841093Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:01:12.519933333Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:01:12.520008583Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:01:12.520017624Z","type":"meta","data":"command=/tmp/TestOpencodeRun727885186/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:01:12.520024499Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun727885186/001"}
{"timestamp":"2026-02-17T07:01:12.521575247Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:01:12.523385662Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:01:12.523431203Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:01:12.523655745Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:01:12.523697245Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:01:12.523706995Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit2923029250/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:01:12.523714453Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit2923029250/001"}
{"timestamp":"2026-02-17T07:01:12.528722197Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:01:12.530858861Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:01:12.531000652Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:01:12.531009902Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv1305481245/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:01:12.531021736Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv1305481245/001"}
{"timestamp":"2026-02-17T07:01:12.535267397Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:01:15.68527821Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:01:15.687741999Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:01:15.687811624Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv3753995901/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:01:15.687824874Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv3753995901/001"}
{"timestamp":"2026-02-17T07:01:15.692778493Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:01:15.706368393Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:01:15.706596392Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:01:15.706634976Z","type":"meta","data":"command=/tmp/TestVibeRunBasic676525223/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:01:15.706644226Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic676525223/001"}
{"timestamp":"2026-02-17T07:01:15.708468182Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:01:15.709114389Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:01:15.709303597Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:01:15.709347389Z","type":"meta","data":"command=/tmp/TestVibeRunBasic676525223/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:01:15.709362306Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic676525223/001"}
{"timestamp":"2026-02-17T07:01:15.710363888Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:29:00.45440233Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:29:00.454557121Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:29:00.454584705Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON4204595107/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:29:00.454602705Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON4204595107/001"}
{"timestamp":"2026-02-17T07:29:00.456744035Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:29:00.457299034Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:29:00.457436576Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:29:00.457684034Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:29:00.45782245Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:29:00.457846534Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit1990758753/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:29:00.457855742Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit1990758753/001"}
{"timestamp":"2026-02-17T07:29:00.45921849Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:29:00.464498483Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:29:00.464942858Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:29:00.465012066Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:29:00.465023149Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv1804875711/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:29:00.465033816Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv1804875711/001"}
{"timestamp":"2026-02-17T07:29:00.469725309Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:29:00.469848018Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:29:00.470691392Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:00.470772433Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:00.470784391Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode1807967275/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:00.470793725Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode1807967275/001"}
{"timestamp":"2026-02-17T07:29:00.47310743Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:00.47319493Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:29:00.473499388Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:00.473628388Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:00.473646638Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2783006817/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:00.473654221Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2783006817/001"}
{"timestamp":"2026-02-17T07:29:00.474897428Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:29:00.474910511Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:29:00.475039886Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:29:00.475454135Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:00.475552927Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:00.475579093Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2783006817/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:00.475588052Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2783006817/001"}
{"timestamp":"2026-02-17T07:29:00.477082966Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:29:00.477200466Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:29:00.477252174Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:29:00.477611049Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:00.477689382Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:00.477700132Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID389079299/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:00.477708882Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID389079299/001"}
{"timestamp":"2026-02-17T07:29:00.480017129Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:29:00.680615319Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:29:01.319606796Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:29:01.32113221Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:29:01.321298293Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON4221624655/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:29:01.321307627Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON4221624655/001"}
{"timestamp":"2026-02-17T07:29:01.325763871Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:29:01.325892954Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:29:01.325906204Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:29:01.326314412Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:29:01.326427078Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:29:01.326436412Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit4064454285/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:29:01.32644362Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit4064454285/001"}
{"timestamp":"2026-02-17T07:29:01.330313448Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:29:01.329921907Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:29:01.331521363Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:29:01.331952238Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:29:01.332176946Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv2265941914/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:29:01.332269737Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv2265941914/001"}
{"timestamp":"2026-02-17T07:29:01.33637644Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:29:01.336526398Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:29:01.33668419Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:29:01.336760398Z","type":"meta","data":"command=/tmp/TestGenericRun4022034503/001/fake-generic "}
{"timestamp":"2026-02-17T07:29:01.336767939Z","type":"meta","data":"workdir=/tmp/TestGenericRun4022034503/001"}
{"timestamp":"2026-02-17T07:29:01.338718395Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:29:01.339777685Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:29:01.340799392Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit350039666/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:29:01.340820351Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit350039666/001"}
{"timestamp":"2026-02-17T07:29:01.342370807Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:29:01.342926181Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:29:01.343249639Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:29:01.343333639Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv2091859703/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:29:01.343346931Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv2091859703/001"}
{"timestamp":"2026-02-17T07:29:01.3474198Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:29:01.349767089Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:29:01.34990038Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:29:01.349918588Z","type":"meta","data":"command=/tmp/TestOpencodeRun2694508224/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:29:01.349933963Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun2694508224/001"}
{"timestamp":"2026-02-17T07:29:01.352982959Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:29:01.353411167Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:29:01.353463125Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:29:01.353651625Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:29:01.353768583Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:29:01.35380625Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit3088398405/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:29:01.353817875Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit3088398405/001"}
{"timestamp":"2026-02-17T07:29:01.355363498Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:29:01.355835289Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:29:01.356037539Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:29:01.356180247Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv2735958286/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:29:01.356189455Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv2735958286/001"}
{"timestamp":"2026-02-17T07:29:01.3602842Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:29:04.519911883Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:29:04.521739839Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:29:04.521813131Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv1633603713/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:29:04.521836381Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv1633603713/001"}
{"timestamp":"2026-02-17T07:29:04.524797502Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:29:04.536629819Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:29:04.536935402Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:29:04.537028277Z","type":"meta","data":"command=/tmp/TestVibeRunBasic4018233349/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:29:04.537048569Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic4018233349/001"}
{"timestamp":"2026-02-17T07:29:04.539006399Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:29:04.539955648Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:29:04.540192731Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:29:04.540243731Z","type":"meta","data":"command=/tmp/TestVibeRunBasic4018233349/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:29:04.540277648Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic4018233349/001"}
{"timestamp":"2026-02-17T07:29:04.541443854Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:29:23.437584839Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:29:23.438047339Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:29:23.438278505Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON571051404/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:29:23.438297547Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON571051404/001"}
{"timestamp":"2026-02-17T07:29:23.439969211Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:29:23.440234169Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:29:23.440270294Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:29:23.440506961Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:29:23.440593335Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:29:23.440601919Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit4104831760/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:29:23.440608627Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit4104831760/001"}
{"timestamp":"2026-02-17T07:29:23.441939125Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:29:23.44675266Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:29:23.447023368Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:29:23.44722666Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:29:23.447261368Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv2418297956/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:29:23.44727416Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv2418297956/001"}
{"timestamp":"2026-02-17T07:29:23.451642612Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:29:23.451736154Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:29:23.452431945Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:23.452670403Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:23.452697903Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode1957092179/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:23.452707028Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode1957092179/001"}
{"timestamp":"2026-02-17T07:29:23.455047566Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:23.455200399Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:29:23.455411357Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:23.455457357Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:23.455465399Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2541453993/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:23.455474774Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2541453993/001"}
{"timestamp":"2026-02-17T07:29:23.457581229Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:29:23.457578396Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:29:23.457669229Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:29:23.457952479Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:23.458390353Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:23.458434937Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2541453993/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:23.458443978Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2541453993/001"}
{"timestamp":"2026-02-17T07:29:23.459798685Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:29:23.459801476Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:29:23.459872643Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:29:23.460685767Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:29:23.460752183Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:29:23.460761267Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID2525692256/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:29:23.460770433Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID2525692256/001"}
{"timestamp":"2026-02-17T07:29:23.463205388Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:29:23.662733038Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:29:24.29508715Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:29:24.295339983Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:29:24.295356566Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON3652533991/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:29:24.295367524Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON3652533991/001"}
{"timestamp":"2026-02-17T07:29:24.299378727Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:29:24.300508642Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:29:24.300785434Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:29:24.301023308Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:29:24.301379641Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:29:24.301438641Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit3815004210/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:29:24.301448558Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit3815004210/001"}
{"timestamp":"2026-02-17T07:29:24.305558136Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:29:24.312860543Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:29:24.313647542Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:29:24.31375325Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:29:24.313764125Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv487738970/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:29:24.313784416Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv487738970/001"}
{"timestamp":"2026-02-17T07:29:24.317633203Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:29:24.318026161Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:29:24.318514243Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:29:24.31853466Z","type":"meta","data":"command=/tmp/TestGenericRun3187882179/001/fake-generic "}
{"timestamp":"2026-02-17T07:29:24.31854191Z","type":"meta","data":"workdir=/tmp/TestGenericRun3187882179/001"}
{"timestamp":"2026-02-17T07:29:24.321024532Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:29:24.321993155Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:29:24.322216572Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit3328426754/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:29:24.322242655Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit3328426754/001"}
{"timestamp":"2026-02-17T07:29:24.323755486Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:29:24.325012026Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:29:24.325241901Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:29:24.325260276Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv4148338400/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:29:24.325269193Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv4148338400/001"}
{"timestamp":"2026-02-17T07:29:24.328180855Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:29:24.331774351Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:29:24.33189635Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:29:24.331906475Z","type":"meta","data":"command=/tmp/TestOpencodeRun1904096867/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:29:24.331913559Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun1904096867/001"}
{"timestamp":"2026-02-17T07:29:24.334042556Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:29:24.334322597Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:29:24.334350556Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:29:24.334543347Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:29:24.334650263Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:29:24.33466668Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit986963852/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:29:24.334676097Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit986963852/001"}
{"timestamp":"2026-02-17T07:29:24.335724804Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:29:24.336530428Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:29:24.336690969Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:29:24.336703469Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv275760059/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:29:24.336711261Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv275760059/001"}
{"timestamp":"2026-02-17T07:29:24.339956798Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:29:27.4881775Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:29:27.488481375Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:29:27.488497041Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv275223303/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:29:27.488504833Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv275223303/001"}
{"timestamp":"2026-02-17T07:29:27.491196496Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:29:27.49201112Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:29:27.492334578Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:29:27.492460286Z","type":"meta","data":"command=/tmp/TestVibeRunBasic2301255153/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:29:27.492476411Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic2301255153/001"}
{"timestamp":"2026-02-17T07:29:27.497387321Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:29:27.498704736Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:29:27.498970569Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:29:27.499166694Z","type":"meta","data":"command=/tmp/TestVibeRunBasic2301255153/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:29:27.499243444Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic2301255153/001"}
{"timestamp":"2026-02-17T07:29:27.500673192Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:36:02.96246069Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:36:02.962796773Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:36:02.962813148Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON1635549021/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:36:02.962823898Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON1635549021/001"}
{"timestamp":"2026-02-17T07:36:02.964663354Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:36:02.96479827Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:36:02.964817562Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:36:02.966383976Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:36:02.966699893Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:36:02.966780434Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit4144729671/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:36:02.966796059Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit4144729671/001"}
{"timestamp":"2026-02-17T07:36:02.977782503Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:36:02.982335914Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:36:02.982739913Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:36:02.982793621Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:36:02.98280408Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv3764626608/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:36:02.982814496Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv3764626608/001"}
{"timestamp":"2026-02-17T07:36:02.988281864Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:36:02.988499405Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:36:02.990517278Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:02.990726944Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:02.990767111Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode1727422303/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:02.990779027Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode1727422303/001"}
{"timestamp":"2026-02-17T07:36:02.994032356Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:02.994235231Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:36:02.994474856Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:02.994672106Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:02.994718647Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride937876802/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:02.994729355Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride937876802/001"}
{"timestamp":"2026-02-17T07:36:02.996977352Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:36:02.997169936Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:36:02.997281727Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:36:02.997478602Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:02.997578268Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:02.99758856Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride937876802/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:02.997598643Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride937876802/001"}
{"timestamp":"2026-02-17T07:36:02.998980225Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:36:02.999215224Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:36:02.999285766Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:36:02.999621141Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:02.999973765Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:02.999988682Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID240705108/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:02.999996432Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID240705108/001"}
{"timestamp":"2026-02-17T07:36:03.003005053Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:36:03.200596291Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:36:03.824552963Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:36:03.82467288Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:36:03.824682921Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON3853021528/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:36:03.824692338Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON3853021528/001"}
{"timestamp":"2026-02-17T07:36:03.82697571Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:36:03.827180668Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:36:03.827211293Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:36:03.827389084Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:36:03.827462084Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:36:03.827469834Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit674508025/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:36:03.827480584Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit674508025/001"}
{"timestamp":"2026-02-17T07:36:03.829298124Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:36:03.829595665Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:36:03.829951206Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:36:03.832687202Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:36:03.832760077Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv10483220/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:36:03.832775577Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv10483220/001"}
{"timestamp":"2026-02-17T07:36:03.836881197Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:36:03.837364988Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:36:03.838698028Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:36:03.838855194Z","type":"meta","data":"command=/tmp/TestGenericRun2469511347/001/fake-generic "}
{"timestamp":"2026-02-17T07:36:03.838864194Z","type":"meta","data":"workdir=/tmp/TestGenericRun2469511347/001"}
{"timestamp":"2026-02-17T07:36:03.840455567Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:36:03.84112765Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:36:03.841480941Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit3205685906/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:36:03.841493107Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit3205685906/001"}
{"timestamp":"2026-02-17T07:36:03.843813104Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:36:03.844198979Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:36:03.844328562Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:36:03.844340562Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3167563510/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:36:03.844352937Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3167563510/001"}
{"timestamp":"2026-02-17T07:36:03.846710809Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:36:03.850342596Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:36:03.850453804Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:36:03.85046197Z","type":"meta","data":"command=/tmp/TestOpencodeRun692076540/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:36:03.850468345Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun692076540/001"}
{"timestamp":"2026-02-17T07:36:03.853613841Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:36:03.853787383Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:36:03.853824924Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:36:03.85434009Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:36:03.854548423Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:36:03.85456359Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit1363497827/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:36:03.854570965Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit1363497827/001"}
{"timestamp":"2026-02-17T07:36:03.856570462Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:36:03.858724543Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:36:03.859006584Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:36:03.859152459Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv3257334328/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:36:03.859167084Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv3257334328/001"}
{"timestamp":"2026-02-17T07:36:03.862413621Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:36:07.030839128Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:36:07.033464749Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:36:07.033564874Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv3637041785/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:36:07.033582916Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv3637041785/001"}
{"timestamp":"2026-02-17T07:36:07.037543994Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:36:07.044565943Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:36:07.044742859Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:36:07.044766651Z","type":"meta","data":"command=/tmp/TestVibeRunBasic480234301/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:36:07.044775734Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic480234301/001"}
{"timestamp":"2026-02-17T07:36:07.045993149Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:36:07.047269564Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:36:07.047435897Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:36:07.047487522Z","type":"meta","data":"command=/tmp/TestVibeRunBasic480234301/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:36:07.047506355Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic480234301/001"}
{"timestamp":"2026-02-17T07:36:07.048598604Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:36:17.041942227Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:36:17.042620392Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:36:17.042649059Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON2184704959/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:36:17.042663851Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON2184704959/001"}
{"timestamp":"2026-02-17T07:36:17.045886346Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:36:17.049711466Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:36:17.050002633Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:36:17.050657257Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:36:17.051203756Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:36:17.051235589Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit3851738161/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:36:17.051245464Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit3851738161/001"}
{"timestamp":"2026-02-17T07:36:17.053728503Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:36:17.059310204Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:36:17.059655037Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:36:17.059704703Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:36:17.059714286Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv542945273/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:36:17.059724536Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv542945273/001"}
{"timestamp":"2026-02-17T07:36:17.066766944Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:36:17.067142443Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:36:17.068380692Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:17.068717191Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:17.068775483Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode2346556365/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:17.068785566Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode2346556365/001"}
{"timestamp":"2026-02-17T07:36:17.072528061Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:17.072626686Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:36:17.072857102Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:17.072942519Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:17.072950852Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride620484891/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:17.072961311Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride620484891/001"}
{"timestamp":"2026-02-17T07:36:17.076197265Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:36:17.076362264Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:36:17.076459681Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:36:17.076886555Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:17.077603471Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:17.077627929Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride620484891/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:17.077646263Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride620484891/001"}
{"timestamp":"2026-02-17T07:36:17.079313302Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:36:17.079473802Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:36:17.079519427Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:36:17.079829051Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:36:17.079929176Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:36:17.079939801Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID480203502/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:36:17.07994851Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID480203502/001"}
{"timestamp":"2026-02-17T07:36:17.08444492Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:36:17.280333994Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:36:17.894613971Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:36:17.894691304Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:36:17.894701721Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2209629462/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:36:17.894709679Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2209629462/001"}
{"timestamp":"2026-02-17T07:36:17.896024261Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:36:17.896240761Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:36:17.896261052Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:36:17.896442885Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:36:17.897016926Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:36:17.897174593Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit2894111858/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:36:17.897184384Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit2894111858/001"}
{"timestamp":"2026-02-17T07:36:17.8982243Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:36:17.898316674Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:36:17.899523423Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:36:17.899698381Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:36:17.899718881Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv278760247/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:36:17.899747089Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv278760247/001"}
{"timestamp":"2026-02-17T07:36:17.902245586Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:36:17.902888252Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:36:17.903332085Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:36:17.903378334Z","type":"meta","data":"command=/tmp/TestGenericRun2260849072/001/fake-generic "}
{"timestamp":"2026-02-17T07:36:17.903387293Z","type":"meta","data":"workdir=/tmp/TestGenericRun2260849072/001"}
{"timestamp":"2026-02-17T07:36:17.904439208Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:36:17.904743083Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:36:17.904798458Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit2462390502/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:36:17.904807916Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit2462390502/001"}
{"timestamp":"2026-02-17T07:36:17.905735706Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:36:17.906194289Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:36:17.906267081Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:36:17.906279247Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv2636801854/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:36:17.906288289Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv2636801854/001"}
{"timestamp":"2026-02-17T07:36:17.908123203Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:36:17.909794826Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:36:17.909883076Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:36:17.909893284Z","type":"meta","data":"command=/tmp/TestOpencodeRun582344589/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:36:17.909899576Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun582344589/001"}
{"timestamp":"2026-02-17T07:36:17.910994991Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:36:17.911360657Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:36:17.911415449Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:36:17.91170349Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:36:17.91196424Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:36:17.912210323Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit4179846638/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:36:17.912247406Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit4179846638/001"}
{"timestamp":"2026-02-17T07:36:17.913642113Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:36:17.913908195Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:36:17.914014945Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:36:17.914022445Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv3039610577/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:36:17.914028987Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv3039610577/001"}
{"timestamp":"2026-02-17T07:36:17.916002443Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:36:21.051139911Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:36:21.051666952Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:36:21.051767951Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv632101574/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:36:21.051828951Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv632101574/001"}
{"timestamp":"2026-02-17T07:36:21.05439374Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:36:21.055492863Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:36:21.055831821Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:36:21.05634207Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1526713097/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:36:21.05648657Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1526713097/001"}
{"timestamp":"2026-02-17T07:36:21.060044107Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:36:21.06141848Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:36:21.061648688Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:36:21.061668188Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1526713097/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:36:21.061677813Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1526713097/001"}
{"timestamp":"2026-02-17T07:36:21.063612227Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:39:43.807573598Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:39:43.807697056Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:39:43.807711098Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON78009668/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:39:43.807721723Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON78009668/001"}
{"timestamp":"2026-02-17T07:39:43.813973091Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:39:43.814360007Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:39:43.81437984Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:39:43.815558464Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:39:43.815841547Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:39:43.815989088Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit3993997632/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:39:43.816172338Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit3993997632/001"}
{"timestamp":"2026-02-17T07:39:43.817792378Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:39:43.82273708Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:39:43.823326246Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:39:43.823624704Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:39:43.823785037Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv488449322/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:39:43.823810454Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv488449322/001"}
{"timestamp":"2026-02-17T07:39:43.82867074Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:39:43.828771656Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:39:43.829443489Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:39:43.829546406Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:39:43.829740239Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode172540878/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:39:43.829790239Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode172540878/001"}
{"timestamp":"2026-02-17T07:39:43.832388652Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:39:43.832514819Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:39:43.833014568Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:39:43.833325526Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:39:43.833365026Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride145310966/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:39:43.833377984Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride145310966/001"}
{"timestamp":"2026-02-17T07:39:43.835835315Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:39:43.835893231Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:39:43.835916648Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:39:43.836500481Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:39:43.837285855Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:39:43.837695021Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride145310966/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:39:43.837738729Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride145310966/001"}
{"timestamp":"2026-02-17T07:39:43.839735518Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:39:43.83992056Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:39:43.839939185Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:39:43.840533059Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:39:43.840612642Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:39:43.840622976Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID3328109324/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:39:43.840630392Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID3328109324/001"}
{"timestamp":"2026-02-17T07:39:43.843766264Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:39:44.04148828Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:39:44.680726484Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:39:44.681019359Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:39:44.681029651Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON4090804901/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:39:44.681040317Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON4090804901/001"}
{"timestamp":"2026-02-17T07:39:44.686408686Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:39:44.686528519Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:39:44.686542894Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:39:44.689864682Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:39:44.690321015Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:39:44.690394306Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit957373252/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:39:44.690407098Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit957373252/001"}
{"timestamp":"2026-02-17T07:39:44.693752302Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:39:44.702564125Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:39:44.702921542Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:39:44.704047499Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:39:44.704337623Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv2257909877/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:39:44.704356248Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv2257909877/001"}
{"timestamp":"2026-02-17T07:39:44.716736442Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:39:44.718386273Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:39:44.718594398Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:39:44.718612731Z","type":"meta","data":"command=/tmp/TestGenericRun2099016512/001/fake-generic "}
{"timestamp":"2026-02-17T07:39:44.718620773Z","type":"meta","data":"workdir=/tmp/TestGenericRun2099016512/001"}
{"timestamp":"2026-02-17T07:39:44.719997438Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:39:44.720858729Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:39:44.721803519Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit3852076108/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:39:44.721886477Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit3852076108/001"}
{"timestamp":"2026-02-17T07:39:44.724836891Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:39:44.725474682Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:39:44.72562664Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:39:44.72564489Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv942733059/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:39:44.725652473Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv942733059/001"}
{"timestamp":"2026-02-17T07:39:44.730018135Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:39:44.734581962Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:39:44.734982129Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:39:44.735328628Z","type":"meta","data":"command=/tmp/TestOpencodeRun3148180098/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:39:44.735358712Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun3148180098/001"}
{"timestamp":"2026-02-17T07:39:44.738496458Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:39:44.738908416Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:39:44.738935749Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:39:44.739830331Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:39:44.740633747Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:39:44.740707705Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit1195328199/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:39:44.740720664Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit1195328199/001"}
{"timestamp":"2026-02-17T07:39:44.742603828Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:39:44.744449367Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:39:44.744560909Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:39:44.744570826Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv1326612512/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:39:44.744582451Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv1326612512/001"}
{"timestamp":"2026-02-17T07:39:44.748511321Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:39:47.891898693Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:39:47.892393151Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:39:47.892539068Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv344583656/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:39:47.892557943Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv344583656/001"}
{"timestamp":"2026-02-17T07:39:47.89922206Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:39:47.900323309Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:39:47.900530808Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:39:47.900621516Z","type":"meta","data":"command=/tmp/TestVibeRunBasic77199085/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:39:47.900632058Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic77199085/001"}
{"timestamp":"2026-02-17T07:39:47.905295219Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:39:47.906000427Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:39:47.906598968Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:39:47.906769759Z","type":"meta","data":"command=/tmp/TestVibeRunBasic77199085/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:39:47.906788134Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic77199085/001"}
{"timestamp":"2026-02-17T07:39:47.908277257Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:49:29.679280454Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:49:29.680305827Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:49:29.680366411Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON3087672914/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:49:29.680380869Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON3087672914/001"}
{"timestamp":"2026-02-17T07:49:29.684002864Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:49:29.68447653Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:49:29.684516447Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:49:29.684759738Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:49:29.685161196Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:49:29.685340321Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit2627855844/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:49:29.685398279Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit2627855844/001"}
{"timestamp":"2026-02-17T07:49:29.687548902Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:49:29.693223728Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:49:29.693854894Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:49:29.693942769Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:49:29.693952477Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv3091946935/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:49:29.693961435Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv3091946935/001"}
{"timestamp":"2026-02-17T07:49:29.702853007Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:49:29.70302034Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:49:29.704479922Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:49:29.704655297Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:49:29.704684755Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode2016244673/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:49:29.704694255Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode2016244673/001"}
{"timestamp":"2026-02-17T07:49:29.707822251Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:49:29.707953209Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:49:29.708496459Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:49:29.708709583Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:49:29.708741667Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2393087057/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:49:29.708753708Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2393087057/001"}
{"timestamp":"2026-02-17T07:49:29.709653415Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:49:29.709971832Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:49:29.710187498Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:49:29.71041654Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:49:29.710480581Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:49:29.710489831Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride2393087057/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:49:29.710497248Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride2393087057/001"}
{"timestamp":"2026-02-17T07:49:29.711894413Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:49:29.712015454Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:49:29.712000954Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:49:29.713705202Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:49:29.713805285Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:49:29.71381641Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID3594959498/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:49:29.713825285Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID3594959498/001"}
{"timestamp":"2026-02-17T07:49:29.715885158Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:49:29.915562281Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:49:30.559274513Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:49:30.559495221Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:49:30.559509971Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON2805319280/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:49:30.559518554Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON2805319280/001"}
{"timestamp":"2026-02-17T07:49:30.563014217Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:49:30.564625673Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:49:30.564781964Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:49:30.565325464Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:49:30.565441213Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:49:30.565451338Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit3521168496/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:49:30.565459672Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit3521168496/001"}
{"timestamp":"2026-02-17T07:49:30.570193458Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:49:30.569747791Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:49:30.570720165Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:49:30.572567413Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:49:30.572703413Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv4158051185/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:49:30.572729663Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv4158051185/001"}
{"timestamp":"2026-02-17T07:49:30.580579236Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:49:30.581664026Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:49:30.581929484Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:49:30.581950193Z","type":"meta","data":"command=/tmp/TestGenericRun1482032946/001/fake-generic "}
{"timestamp":"2026-02-17T07:49:30.581957276Z","type":"meta","data":"workdir=/tmp/TestGenericRun1482032946/001"}
{"timestamp":"2026-02-17T07:49:30.586913728Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:49:30.587801519Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:49:30.587834144Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit1158978406/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:49:30.587843102Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit1158978406/001"}
{"timestamp":"2026-02-17T07:49:30.590592015Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:49:30.591468181Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:49:30.593314803Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:49:30.593536803Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv893297954/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:49:30.593601803Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv893297954/001"}
{"timestamp":"2026-02-17T07:49:30.601245085Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:49:30.606629328Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:49:30.607303994Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:49:30.607344869Z","type":"meta","data":"command=/tmp/TestOpencodeRun209170366/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:49:30.607364119Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun209170366/001"}
{"timestamp":"2026-02-17T07:49:30.612820862Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:49:30.613818944Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:49:30.613869111Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:49:30.614947735Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:49:30.615818108Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:49:30.61586565Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit3311051221/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:49:30.615879025Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit3311051221/001"}
{"timestamp":"2026-02-17T07:49:30.618467313Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:49:30.618978521Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:49:30.620586394Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:49:30.621591601Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv153010289/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:49:30.621908559Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv153010289/001"}
{"timestamp":"2026-02-17T07:49:30.626994428Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:49:33.785637244Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:49:33.788217574Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:49:33.78837024Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv3229065084/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:49:33.788420407Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv3229065084/001"}
{"timestamp":"2026-02-17T07:49:33.790598363Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:49:33.80202989Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:49:33.802193098Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:49:33.802230848Z","type":"meta","data":"command=/tmp/TestVibeRunBasic2204580400/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:49:33.802271515Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic2204580400/001"}
{"timestamp":"2026-02-17T07:49:33.803153347Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:49:33.80429447Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:49:33.804511803Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:49:33.804562512Z","type":"meta","data":"command=/tmp/TestVibeRunBasic2204580400/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:49:33.804576845Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic2204580400/001"}
{"timestamp":"2026-02-17T07:49:33.805331094Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:50:18.076532342Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:50:18.07667305Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:50:18.076698216Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON2670340807/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:50:18.07671605Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON2670340807/001"}
{"timestamp":"2026-02-17T07:50:18.078563047Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:50:18.078736047Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:50:18.078755297Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:50:18.079024422Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:50:18.079372463Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:50:18.07944088Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit337718073/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:50:18.07945488Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit337718073/001"}
{"timestamp":"2026-02-17T07:50:18.081621627Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:50:18.085138414Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:50:18.085540455Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:50:18.085727997Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:50:18.085740122Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv834416106/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:50:18.085754747Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv834416106/001"}
{"timestamp":"2026-02-17T07:50:18.090812782Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:50:18.090956907Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:50:18.091939739Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:50:18.092016655Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:50:18.092029447Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode433579413/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:50:18.092039447Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode433579413/001"}
{"timestamp":"2026-02-17T07:50:18.097016399Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:50:18.098397481Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:50:18.099394938Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:50:18.099500313Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:50:18.099519271Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride3841046646/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:50:18.099531479Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride3841046646/001"}
{"timestamp":"2026-02-17T07:50:18.100759728Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:50:18.100999352Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:50:18.101049602Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:50:18.101769143Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:50:18.101857643Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:50:18.101869185Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride3841046646/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:50:18.10187856Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride3841046646/001"}
{"timestamp":"2026-02-17T07:50:18.10333635Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:50:18.103542683Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:50:18.103572099Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:50:18.103890057Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:50:18.103983349Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:50:18.103995515Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID1446153563/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:50:18.104003057Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID1446153563/001"}
{"timestamp":"2026-02-17T07:50:18.106137013Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:50:18.304507929Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:50:18.940472377Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:50:18.940642543Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:50:18.94069296Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON1003607173/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:50:18.940705543Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON1003607173/001"}
{"timestamp":"2026-02-17T07:50:18.942747957Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:50:18.943231456Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:50:18.94331379Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:50:18.943537081Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:50:18.943858456Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:50:18.943898164Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit4204531774/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:50:18.943907956Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit4204531774/001"}
{"timestamp":"2026-02-17T07:50:18.945238871Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:50:18.945428537Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:50:18.945904495Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:50:18.946506952Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:50:18.946578536Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv738823754/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:50:18.946603286Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv738823754/001"}
{"timestamp":"2026-02-17T07:50:18.948805033Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:50:18.948898074Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:50:18.94944674Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:50:18.949539615Z","type":"meta","data":"command=/tmp/TestGenericRun3638961208/001/fake-generic "}
{"timestamp":"2026-02-17T07:50:18.94955074Z","type":"meta","data":"workdir=/tmp/TestGenericRun3638961208/001"}
{"timestamp":"2026-02-17T07:50:18.950934363Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:50:18.951626613Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:50:18.951710071Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit739394194/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:50:18.951729362Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit739394194/001"}
{"timestamp":"2026-02-17T07:50:18.952726694Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:50:18.953428694Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:50:18.953485777Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:50:18.95349411Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3962492827/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:50:18.953501193Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3962492827/001"}
{"timestamp":"2026-02-17T07:50:18.957613105Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:50:18.959524353Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:50:18.959618269Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:50:18.959626936Z","type":"meta","data":"command=/tmp/TestOpencodeRun550035043/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:50:18.959633477Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun550035043/001"}
{"timestamp":"2026-02-17T07:50:18.960782184Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:50:18.960979809Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:50:18.961033559Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:50:18.961454642Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:50:18.961636142Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:50:18.961664558Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit1076818438/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:50:18.961673225Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit1076818438/001"}
{"timestamp":"2026-02-17T07:50:18.962920973Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:50:18.963666347Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:50:18.964161597Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:50:18.964207722Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv857530019/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:50:18.964225847Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv857530019/001"}
{"timestamp":"2026-02-17T07:50:18.966359552Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:50:22.110986459Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:50:22.11122175Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:50:22.111237917Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv2126863136/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:50:22.111249542Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv2126863136/001"}
{"timestamp":"2026-02-17T07:50:22.114090247Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:50:22.116203036Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:50:22.116404744Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:50:22.116444744Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1864280816/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:50:22.116453494Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1864280816/001"}
{"timestamp":"2026-02-17T07:50:22.117523659Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:50:22.120015948Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:50:22.120434572Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:50:22.12051578Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1864280816/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:50:22.120525864Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1864280816/001"}
{"timestamp":"2026-02-17T07:50:22.121730112Z","type":"stderr","data":"vibe failed\n"}
{"timestamp":"2026-02-17T07:56:38.839993922Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:56:38.840956421Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:56:38.841394129Z","type":"meta","data":"command=/tmp/TestClaudeRunStreamJSON3007361154/001/fake-claude --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:56:38.84148292Z","type":"meta","data":"workdir=/tmp/TestClaudeRunStreamJSON3007361154/001"}
{"timestamp":"2026-02-17T07:56:38.844911499Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"test-session\",\"model\":\"claude-sonnet-4-5-20250929\",\"tools\":[\"Bash\",\"Read\"]}"}
{"timestamp":"2026-02-17T07:56:38.845961873Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"id\":\"msg_01\",\"model\":\"claude-sonnet-4-5-20250929\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Hello from fake claude!\"}],\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}}"}
{"timestamp":"2026-02-17T07:56:38.846022623Z","type":"claude_stream","data":"{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"total_cost_usd\":0.01,\"duration_ms\":500,\"num_turns\":1,\"result\":\"Hello from fake claude!\",\"usage\":{\"input_tokens\":100,\"output_tokens\":50}}"}
{"timestamp":"2026-02-17T07:56:38.846484164Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:56:38.847277371Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:56:38.847359413Z","type":"meta","data":"command=/tmp/TestClaudeRunNonZeroExit1850829630/001/fake-claude-fail --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:56:38.847372788Z","type":"meta","data":"workdir=/tmp/TestClaudeRunNonZeroExit1850829630/001"}
{"timestamp":"2026-02-17T07:56:38.850163493Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:56:38.852706281Z","type":"claude_stream","data":"{\"type\":\"system\",\"subtype\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:56:38.853274114Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:56:38.853430697Z","type":"meta","data":"agent=claude"}
{"timestamp":"2026-02-17T07:56:38.853450447Z","type":"meta","data":"command=/tmp/TestClaudePromptUsesStdinNotArgv3236381602/001/fake-claude-stdin --print --output-format stream-json --verbose"}
{"timestamp":"2026-02-17T07:56:38.853462572Z","type":"meta","data":"workdir=/tmp/TestClaudePromptUsesStdinNotArgv3236381602/001"}
{"timestamp":"2026-02-17T07:56:38.862619518Z","type":"claude_stream","data":"{\"type\":\"assistant\",\"message\":{\"content\":[{\"type\":\"text\",\"text\":\"ok\"}]}}"}
{"timestamp":"2026-02-17T07:56:38.863254726Z","type":"claude_stream","data":"{\"type\":\"result\",\"result\":\"ok\"}"}
{"timestamp":"2026-02-17T07:56:38.863824642Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:56:38.864265558Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:56:38.864293641Z","type":"meta","data":"command=/tmp/TestCodexRunUsesNonInteractiveExecMode3508058787/001/fake-codex exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:56:38.864304724Z","type":"meta","data":"workdir=/tmp/TestCodexRunUsesNonInteractiveExecMode3508058787/001"}
{"timestamp":"2026-02-17T07:56:38.867231179Z","type":"claude_stream","data":"args:exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:56:38.867357137Z","type":"claude_stream","data":"ok"}
{"timestamp":"2026-02-17T07:56:38.867671012Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:56:38.867891178Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:56:38.867909595Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride1933248734/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:56:38.86792297Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride1933248734/001"}
{"timestamp":"2026-02-17T07:56:38.869791467Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:56:38.869792176Z","type":"stderr","data":"RUST_LOG=error,codex_core::rollout::list=off\n"}
{"timestamp":"2026-02-17T07:56:38.869974592Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:56:38.871033424Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:56:38.871292757Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:56:38.871313216Z","type":"meta","data":"command=/tmp/TestCodexRunRustLogDefaultAndOverride1933248734/001/fake-codex-env exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:56:38.871322716Z","type":"meta","data":"workdir=/tmp/TestCodexRunRustLogDefaultAndOverride1933248734/001"}
{"timestamp":"2026-02-17T07:56:38.873268171Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"test-thread\"}"}
{"timestamp":"2026-02-17T07:56:38.873314588Z","type":"claude_stream","data":"{\"type\":\"turn.completed\",\"usage\":{\"input_tokens\":1,\"cached_input_tokens\":0,\"output_tokens\":1}}"}
{"timestamp":"2026-02-17T07:56:38.873327463Z","type":"stderr","data":"RUST_LOG=debug\n"}
{"timestamp":"2026-02-17T07:56:38.873612546Z","type":"stdin","data":"PING"}
{"timestamp":"2026-02-17T07:56:38.873661754Z","type":"meta","data":"agent=codex"}
{"timestamp":"2026-02-17T07:56:38.873670171Z","type":"meta","data":"command=/tmp/TestCodexRunCancellationPreservesSessionID2233317165/001/fake-codex-cancel exec --skip-git-repo-check --dangerously-bypass-approvals-and-sandbox --json"}
{"timestamp":"2026-02-17T07:56:38.873677046Z","type":"meta","data":"workdir=/tmp/TestCodexRunCancellationPreservesSessionID2233317165/001"}
{"timestamp":"2026-02-17T07:56:38.876851625Z","type":"claude_stream","data":"{\"type\":\"thread.started\",\"thread_id\":\"cancel-thread\"}"}
{"timestamp":"2026-02-17T07:56:39.075730329Z","type":"stderr","data":"Terminated\n"}
{"timestamp":"2026-02-17T07:56:39.699811947Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:56:39.70047103Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:56:39.70049703Z","type":"meta","data":"command=/tmp/TestGeminiRunStreamJSON26892430/001/fake-gemini --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:56:39.700582905Z","type":"meta","data":"workdir=/tmp/TestGeminiRunStreamJSON26892430/001"}
{"timestamp":"2026-02-17T07:56:39.703280735Z","type":"claude_stream","data":"{\"type\":\"init\",\"timestamp\":\"2025-01-01T00:00:00.000Z\",\"session_id\":\"gem-test\",\"model\":\"gemini-2.5-pro\"}"}
{"timestamp":"2026-02-17T07:56:39.703563859Z","type":"claude_stream","data":"{\"type\":\"message\",\"timestamp\":\"2025-01-01T00:00:01.000Z\",\"role\":\"assistant\",\"content\":\"Hello from fake gemini!\",\"delta\":true}"}
{"timestamp":"2026-02-17T07:56:39.703585317Z","type":"claude_stream","data":"{\"type\":\"result\",\"timestamp\":\"2025-01-01T00:00:02.000Z\",\"status\":\"success\",\"stats\":{\"total_tokens\":200,\"input_tokens\":120,\"output_tokens\":80,\"cached\":0,\"input\":120,\"duration_ms\":1500,\"tool_calls\":0}}"}
{"timestamp":"2026-02-17T07:56:39.703893775Z","type":"stdin","data":"fail please"}
{"timestamp":"2026-02-17T07:56:39.704574733Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:56:39.704693774Z","type":"meta","data":"command=/tmp/TestGeminiRunNonZeroExit2132686757/001/fake-gemini-fail --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:56:39.704706149Z","type":"meta","data":"workdir=/tmp/TestGeminiRunNonZeroExit2132686757/001"}
{"timestamp":"2026-02-17T07:56:39.709644518Z","type":"stderr","data":"something went wrong\n"}
{"timestamp":"2026-02-17T07:56:39.709868143Z","type":"claude_stream","data":"{\"type\":\"init\",\"session_id\":\"fail\",\"model\":\"test\"}"}
{"timestamp":"2026-02-17T07:56:39.711828057Z","type":"stdin","data":"PROMPT_SENTINEL_456"}
{"timestamp":"2026-02-17T07:56:39.71191464Z","type":"meta","data":"agent=gemini"}
{"timestamp":"2026-02-17T07:56:39.71192389Z","type":"meta","data":"command=/tmp/TestGeminiPromptUsesStdinNotArgv1589018267/001/fake-gemini-stdin --output-format stream-json -p "}
{"timestamp":"2026-02-17T07:56:39.711934515Z","type":"meta","data":"workdir=/tmp/TestGeminiPromptUsesStdinNotArgv1589018267/001"}
{"timestamp":"2026-02-17T07:56:39.716309551Z","type":"claude_stream","data":"{\"type\":\"message\",\"role\":\"assistant\",\"content\":\"ok\",\"delta\":false}"}
{"timestamp":"2026-02-17T07:56:39.716605051Z","type":"claude_stream","data":"{\"type\":\"result\",\"status\":\"success\"}"}
{"timestamp":"2026-02-17T07:56:39.716829717Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:56:39.716867176Z","type":"meta","data":"command=/tmp/TestGenericRun922368858/001/fake-generic "}
{"timestamp":"2026-02-17T07:56:39.7168753Z","type":"meta","data":"workdir=/tmp/TestGenericRun922368858/001"}
{"timestamp":"2026-02-17T07:56:39.718436298Z","type":"stdout","data":"Hello from generic\n"}
{"timestamp":"2026-02-17T07:56:39.719882213Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:56:39.719983338Z","type":"meta","data":"command=/tmp/TestGenericRunNonZeroExit719792240/001/fake-generic-fail "}
{"timestamp":"2026-02-17T07:56:39.719992838Z","type":"meta","data":"workdir=/tmp/TestGenericRunNonZeroExit719792240/001"}
{"timestamp":"2026-02-17T07:56:39.721545503Z","type":"stderr","data":"failed\n"}
{"timestamp":"2026-02-17T07:56:39.723444292Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:56:39.723524334Z","type":"meta","data":"agent=test-agent"}
{"timestamp":"2026-02-17T07:56:39.723541625Z","type":"meta","data":"command=/tmp/TestGenericPromptUsesStdinNotArgv3087214966/001/fake-generic-stdin "}
{"timestamp":"2026-02-17T07:56:39.723549542Z","type":"meta","data":"workdir=/tmp/TestGenericPromptUsesStdinNotArgv3087214966/001"}
{"timestamp":"2026-02-17T07:56:39.726991496Z","type":"stdout","data":"ok\n"}
{"timestamp":"2026-02-17T07:56:39.731014324Z","type":"stdin","data":"Say hello"}
{"timestamp":"2026-02-17T07:56:39.731113366Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:56:39.731122157Z","type":"meta","data":"command=/tmp/TestOpencodeRun2255997522/001/fake-opencode run --format json"}
{"timestamp":"2026-02-17T07:56:39.731128657Z","type":"meta","data":"workdir=/tmp/TestOpencodeRun2255997522/001"}
{"timestamp":"2026-02-17T07:56:39.733506904Z","type":"claude_stream","data":"{\"type\":\"step_start\",\"sessionID\":\"test-sess\"}"}
{"timestamp":"2026-02-17T07:56:39.733756529Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"test-sess\",\"part\":{\"text\":\"Hello from opencode\"}}"}
{"timestamp":"2026-02-17T07:56:39.733790279Z","type":"claude_stream","data":"{\"type\":\"step_finish\",\"sessionID\":\"test-sess\",\"part\":{\"tokens\":{\"input\":10,\"output\":5},\"cost\":0.001}}"}
{"timestamp":"2026-02-17T07:56:39.73432132Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:56:39.734652653Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:56:39.734950152Z","type":"meta","data":"command=/tmp/TestOpencodeRunNonZeroExit4095516784/001/fake-opencode-fail run --format json"}
{"timestamp":"2026-02-17T07:56:39.735408777Z","type":"meta","data":"workdir=/tmp/TestOpencodeRunNonZeroExit4095516784/001"}
{"timestamp":"2026-02-17T07:56:39.738225482Z","type":"stderr","data":"error message\n"}
{"timestamp":"2026-02-17T07:56:39.738656648Z","type":"stdin","data":"PROMPT_SENTINEL_123"}
{"timestamp":"2026-02-17T07:56:39.738719481Z","type":"meta","data":"agent=opencode"}
{"timestamp":"2026-02-17T07:56:39.738729898Z","type":"meta","data":"command=/tmp/TestOpencodePromptUsesStdinNotArgv1035623680/001/fake-opencode-stdin run --format json"}
{"timestamp":"2026-02-17T07:56:39.738736939Z","type":"meta","data":"workdir=/tmp/TestOpencodePromptUsesStdinNotArgv1035623680/001"}
{"timestamp":"2026-02-17T07:56:39.744940098Z","type":"claude_stream","data":"{\"type\":\"text\",\"sessionID\":\"ok\",\"part\":{\"text\":\"ok\"}}"}
{"timestamp":"2026-02-17T07:56:42.89226178Z","type":"stdin","data":"PROMPT_SENTINEL_789"}
{"timestamp":"2026-02-17T07:56:42.892624571Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:56:42.892777488Z","type":"meta","data":"command=/tmp/TestVibePromptUsesStdinNotArgv1870449750/001/fake-vibe -p PROMPT_SENTINEL_789 --output streaming"}
{"timestamp":"2026-02-17T07:56:42.892918446Z","type":"meta","data":"workdir=/tmp/TestVibePromptUsesStdinNotArgv1870449750/001"}
{"timestamp":"2026-02-17T07:56:42.896478733Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"mode:argv ok\"}"}
{"timestamp":"2026-02-17T07:56:42.898234522Z","type":"stdin","data":"hello"}
{"timestamp":"2026-02-17T07:56:42.89867598Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:56:42.898771605Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1261330678/001/fake-vibe -p hello --output streaming"}
{"timestamp":"2026-02-17T07:56:42.898784563Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1261330678/001"}
{"timestamp":"2026-02-17T07:56:42.900944685Z","type":"claude_stream","data":"{\"role\":\"assistant\",\"content\":\"Hello from vibe\"}"}
{"timestamp":"2026-02-17T07:56:42.902462975Z","type":"stdin","data":"fail"}
{"timestamp":"2026-02-17T07:56:42.902807308Z","type":"meta","data":"agent=vibe"}
{"timestamp":"2026-02-17T07:56:42.902852016Z","type":"meta","data":"command=/tmp/TestVibeRunBasic1261330678/001/fake-vibe-fail -p fail --output streaming"}
{"timestamp":"2026-02-17T07:56:42.9028596Z","type":"meta","data":"workdir=/tmp/TestVibeRunBasic1261330678/001"}
{"timestamp":"2026-02-17T07:56:42.904278889Z","type":"stderr","data":"vibe failed\n"}
